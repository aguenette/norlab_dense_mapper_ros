<launch>
	<param name="/use_sim_time" value="true"/>

	<node pkg="norlab_dense_mapper_ros" type="dense_mapper_node" name="dense_mapper_node">
		<remap from="points_in" to="lslidar_point_cloud_deskewed" />
		<param name="map_frame" value="map" />
		<param name="robot_frame" value="base_link" />
		<param name="depth_camera_frame" value="realsense_depth_optical_frame"/>
		<param name="initial_map_file_name" value="" />
		<param name="final_map_file_name" value="dense_map.vtk" />
		<param name="depth_camera_filters_config" value="$(find norlab_dense_mapper_ros)/params/camera_filters_config.yaml" />
		<param name="sensor_filters_config" value="$(find norlab_dense_mapper_ros)/params/sensor_filters_config.yaml" />
		<param name="robot_filters_config" value="$(find norlab_dense_mapper_ros)/params/robot_filters_config.yaml" />
		<param name="robot_stabilized_filters_config" value="$(find norlab_dense_mapper_ros)/params/robot_stabilized_filters_config.yaml" />
		<param name="map_post_filters_config" value="$(find norlab_dense_mapper_ros)/params/map_post_filters_config.yaml" />
		<param name="map_update_condition" value="delay" />
		<param name="map_update_delay" value="0" />
		<param name="map_update_distance" value="0.5" />
		<param name="map_publish_rate" value="10" />
		<param name="max_idle_time" value="10" />
		<param name="min_dist_new_point" value="0.03" />
		<param name="sensor_max_range" value="5" />
		<param name="prior_dynamic" value="0.6" />
		<param name="threshold_dynamic" value="0.9" />
		<param name="beam_half_angle" value="0.01" />
		<param name="epsilon_a" value="0.01" />
		<param name="epsilon_d" value="0.01" />
		<param name="alpha" value="0.8" />
		<param name="beta" value="0.99" />
		<param name="is_3D" value="true" />
		<param name="is_depth_camera_enabled" value="true" />
		<param name="is_online" value="true" />
		<param name="compute_prob_dynamic" value="false" />
		<param name="is_mapping" value="true" />
	</node>


	<node pkg="topic_tools" type="drop" name="realsense_slower" args="/realsense/depth/color/points 2 3 /realsense/depth/color/points_slowed" />
</launch>
